<!DOCTYPE html>
<html class="no-js" lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/font.css">
<meta name="description" content="">
<script src="js/bootstrap.bundle.min.js"></script>
  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">
  <meta name="theme-color" content="#fafafa">
    <title>2</title>
</head>
<body>
<div class="d-flex mt-5 m-5">

<div class="">
<h1>
    لیست کارها
</h1>
</div>

    <div>
        <button id="theme" class="theme bg-white rounded border-1">
<img src="img/pngtree-dark-mode-icon-light-png-clipart-png-image_3811921.jpg" alt="" height="36" width="36"/>
تغییر تم
 </button>
    </div>

</div>

<div class="parent d-flex justify-content-center mt-5 m-5" >

<div>
<label>
   <input class="rounded mx-2 py-1 border-secondary-subtle" placeholder="کار جدید را وارد کنید..." style="width: 600px" id="taskinput">
</label>
</div>

<div>
<label>
  <select class="rounded mx-2 py-1 border-secondary-subtle" style="width: 300px" id="taskcategory">
    <option>عمومی</option>
        <option>کار</option>
        <option>شخصی</option>
        <option>یادگیری</option>
  </select>
</label>
</div>

<div>
  <button class="bg-success text-bg-primary rounded py-1 border-secondary-subtle" style="width: 300px" id="addbtn">
  افزودن
  </button>
</div>

</div>

    <div class=" d-flex mt-5 m-5" >

 <div class="parent2">
 <label>
        <h6>
            فیلتر بر اساس دسته:
        </h6>
</label>
</div>

 <div>
        <label>
  <select id="filterSelect" class="rounded mx-2 py-1 border-secondary-subtle" >
        <option>همه دسته ها</option>
        <option>عمومی</option>
        <option>کار</option>
        <option>شخصی</option>
        <option>یادگیری</option>
  </select>
</label>
</div>

</div>

<script>

  document.getElementById("addbtn").addEventListener("click", function () {
    const input = document.getElementById("taskinput").value.trim();
    const category = document.getElementById("taskcategory").value;

    if (input === "") {
      alert("لطفاً یک متن وارد کنید.");
      return;}

    const taskList = document.getElementById("taskList");

    const card = document.createElement("div");
    card.className = "card mb-3 shadow-sm";

    const cardBody = document.createElement("div");
    cardBody.className = "card-body d-flex justify-content-between align-items-center";

    const infoDiv = document.createElement("div");

    const title = document.createElement("h5");
    title.className = "card-title mb-1";
    title.textContent = input;

    const categoryText = document.createElement("p");
    categoryText.className = "card-text text-muted mb-0";
    categoryText.innerHTML = ` <span>${category}</span>`;

    infoDiv.appendChild(title);
    infoDiv.appendChild(categoryText);

    const deleteBtn = document.createElement("button");
    deleteBtn.className = "btn btn-danger btn-sm ms-2";
    deleteBtn.textContent = "حذف";
    deleteBtn.addEventListener("click", function () {
    card.remove();});

    const editBtn = document.createElement("button");
    editBtn.className = "btn btn-warning btn-sm";
    editBtn.textContent = "ویرایش";
    editBtn.addEventListener("click" , function () {
  const titleElement = card.querySelector(".card-title");
  const currentText = titleElement.textContent;

  const newText = prompt("متن جدید را وارد کنید:", currentText);

  if (newText !== null && newText.trim() !== "") {
    titleElement.textContent = newText.trim();}});

    const btnGroup = document.createElement("div");
    btnGroup.appendChild(editBtn);
    btnGroup.appendChild(deleteBtn);

    cardBody.appendChild(infoDiv);
    cardBody.appendChild(btnGroup);
    card.appendChild(cardBody);
    taskList.appendChild(card);

    document.getElementById("taskinput").value = "";
    document.getElementById("taskcategory").value = "عمومی";});

   document.getElementById("filterSelect").addEventListener("change", function () {
    const selectedCategory = this.value;
    const cards = document.querySelectorAll("#taskList .card");

    cards.forEach(function (card) {
      const categoryText = card.querySelector(".card-text span").textContent;

      if (selectedCategory === "همه دسته ها" || selectedCategory === categoryText) {
        card.style.display = "block";}
      else {card.style.display = "none";}});});

 document.getElementById("theme").addEventListener("click", function () {
    document.body.classList.toggle("dark-mode");});

</script>

<div class="container mt-4" id="taskList"></div>

</body>
</html>